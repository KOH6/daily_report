## はじめに
モダンJavaScriptの基礎から始める挫折しないためのReact入門 | Udemy

## 学んだこと
### Vanilla JS
* スプレッド構文はShallow Copy、`JSON.stringify()`経由はDeep Copy。参照を別変数に渡すのはcopyですら無い。
* `const fee = num || "金額未設定です";`でJS版のnilガード。false判定の挙動に注意。
* HTMLについて、`ul`の子要素には`li`以外を入れてはいけない。見た目上崩れないが、`li`数をカウントして「n個の箇条書きです」と読み上げるソフトもある。`li`の子要素には何を入れてもOK。
  * [参考](https://csshtml.work/div-in-ul/)

### React
* JSXでreturnする際は、一つのタグで返さないとエラーになる。全体を`<>`や`<React.Fragment>`で囲う等したからreturnする。
* コンポーネントのファイル名はパスカルケース
* `props.children`で親要素で指定されたchildrenを動的にコンポーネントに渡すことができる。

#### 再レンダリングがトリガーされる条件
* stateが変更された場合
* 子コンポーネントがpropsを受け取っている場合、propsの値が変わった時
* 親コンポーネントが再レンダリングされた場合、呼ばれている子コンポーネントも追従して再レンダリングされる
  * 規模が大きくなると、**再レンダリングについてのパフォーマンス・チューニング**が必要になる！

#### stateの関心の分離、`useEffect`
* stateの数が増えたりすると、他のstate同士で干渉したりすることが多い。
  * **関心の分離**で`useEffect()`を使用する！
* `useEffect()`の第二引数には配列を指定可能。配列の要素にはstateの変数を格納する。
```js
// 第二引数を空配列にすると、コンポーネントの初期描画時のみ呼び出される
useEffect(()=>{
  // 処理
}, []);
```
* 以下の書き方で関心の分離が可能。
  * ただし、配列に指定したstate以外のstateを処理の中で記述するとESLintの警告が出る。ESLintの定義を変更するか、jsファイルの先頭や警告箇所に警告を適用除外するコメントを書く。
```js
// 第二引数にstateの変数を格納できる。
useEffect(()=>{
  // numの変更でトリガーされて関心を分離したい処理
}, [num]);
```

#### Reactのエラー対応
* `Too many re-renders`のエラーが発生した場合、stateの値変更周りに原因がないか確認する。
